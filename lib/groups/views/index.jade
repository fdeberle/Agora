extends ../../../views/layout

block title
  | Ãœbersicht der Gruppen

block content
  .row
    .col-md-12
      .page-header
        h2 Gruppen&nbsp;
          .btn-group.pull-right
            if (typeof(user) !== 'undefined' && user.member.isAdmin)
              a.btn.btn-default(href="new/", title="Neue Gruppe"): i.icon-file
          small Alle
    .col-md-6
      div#chart-mask
        div#chart-div(style="width: 900px; height: 500px;")
          | Hier kommt das Chart hin

    .col-md-6
      h3 #{regionalgroups.length} Regionalgruppen

      ul.unstyled
        each group in regionalgroups
          li
            span.label(style="background-color: #{group.color};min-width:30px;text-align:right;display:inline-block") #{group.members.length}
            | &nbsp;
            strong: a.group(href="#{group.id}") #{group.longName}

      h3 #{themegroups.length} Themengruppen

      ul.unstyled
        each group in themegroups
          li
            span.label(style="background-color: #{group.color};min-width:30px;text-align:right;display:inline-block") #{group.members.length}
            | &nbsp;
            strong: a.group(href="#{group.id}") #{group.longName}

  script(src="https://www.google.com/jsapi")
  script
      console.log('doc ready');
      google.load('visualization', '1', {'packages': ['geochart']});
      google.setOnLoadCallback(drawMarkersMap);

      function drawMarkersMap() {
        var data = google.visualization.arrayToDataTable([
            ['City',   'Mitglieder'],
            ['Berlin',      30],
            ['Bonn',      17],
            ['Dortmund',      31],
            ['Duesseldorf',      37],
            ['Hamburg',      11],
            ['Karlsruhe',   47],
            ['Leipzig',      1],
            ['Linz',      21],
            ['Magdeburg',      15],
            ['Muenchen',      63],
            ['Muenster',   42],
            ['Nuernberg',    41],
            ['Frankfurt',        75],
            ['Stuttgart',    19],
            ['Wien',     10],
            ['Zuerich',        5]
        ]);

        var options = {
            region: '155',
            displayMode: 'markers',
            sizeAxis: {
                minSize: 5,
                maxSize: 15
            },
            colorAxis: {
                colors: ['#df5353', '#ebb847']
            },
            width: 2000,
            height: 800,
            legend: 'none',
            backgroundColor: '#fff',
            tooltip: {
                textStyle: {
                    color: '#666'
                },
                showColorCode: true
            }
        }
      };
      var chart = new google.visualization.GeoChart(document.getElementById('chart-div'));
      chart.draw(data, options);
//
//  style
//    #chart-mask {
//      width: 460px;
//      height: 570px;
//      overflow: hidden;
//    }
//
//    #chart-div {
//      margin-left: -960px;
//    }
//
//      /* Highlight countries */
//    #chart-div path {
//      fill: #fff;
//    }
//
//      /* Austria */
//    #chart-div path:nth-child(1) {
//      fill: #f1f1f1;
//    }
//
//      /* Switzerland */
//    #chart-div path:nth-child(3) {
//      fill: #f1f1f1;
//    }
//
//      /* Germany */
//    #chart-div path:nth-child(30) {
//      fill: #f1f1f1;
//    }
